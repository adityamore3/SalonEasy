@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="min-h-screen flex flex-col lg:flex-row bg-gray-100">

  <!-- SIDEBAR -->
  <aside class="w-full lg:w-64 bg-white shadow-lg">
    <div class="p-6">
      <h2 class="text-2xl font-bold text-indigo-600 mb-8">SalonEasy Admin</h2>
      <nav class="space-y-3">
        @* Active link styling *@
        <a href="/Admin/Dashboard" class="flex items-center gap-3 py-2 px-4 rounded bg-indigo-100 text-indigo-700 font-medium">
          <i class="bi bi-speedometer2"></i> Dashboard
        </a>
        <a href="/Employee"        class="flex items-center gap-3 py-2 px-4 rounded hover:bg-gray-100 transition"><i class="bi bi-person-fill"></i> Staff</a>
        <a href="/Appointment"     class="flex items-center gap-3 py-2 px-4 rounded hover:bg-gray-100 transition"><i class="bi bi-calendar-event"></i> Appointments</a>
        <a href="/Shift"           class="flex items-center gap-3 py-2 px-4 rounded hover:bg-gray-100 transition"><i class="bi bi-clock-fill"></i> Shifts</a>
        <a href="/Admin/LeaveRequest" class="flex items-center gap-3 py-2 px-4 rounded hover:bg-gray-100 transition"><i class="bi bi-envelope-open-fill"></i>Staff Leaves</a>
        <a href="/Admin/ProductUsed"  class="flex items-center gap-3 py-2 px-4 rounded hover:bg-gray-100 transition"><i class="bi bi-box-seam"></i> Product Used</a>
        <a href="/Admin/ProductStock" class="flex items-center gap-3 py-2 px-4 rounded hover:bg-gray-100 transition"><i class="bi bi-clipboard-data"></i>Product Stock</a>
        <a href="/Admin/Logout"    class="flex items-center gap-3 py-2 px-4 rounded text-red-600 hover:bg-red-100 transition"><i class="bi bi-box-arrow-right"></i> Logout</a>
      </nav>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="flex-1 p-6 lg:p-10">

    <!-- HEADER -->
    <header class="flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4">
      <div>
        <h1 class="text-3xl font-bold text-gray-800">Dashboard Overview</h1>
        <p class="text-gray-500 mt-1">Hello, Admin! Here’s what’s happening today.</p>
      </div>
      <div class="flex items-center gap-4">
        <div class="relative">
          <i class="bi bi-bell-fill text-2xl text-gray-600"></i>
          <span class="absolute top-0 right-0 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">3</span>
        </div>
        <a href="/Admin/Logout" class="bg-red-500 text-white py-2 px-4 rounded shadow hover:bg-red-600 transition">
          Logout
        </a>
      </div>
    </header>

    <!-- STATS CARDS -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-10">
      <!-- Appointments -->
      <div class="bg-gradient-to-r from-indigo-500 to-indigo-600 text-white p-6 rounded-lg shadow-lg transform hover:scale-105 transition">
        <div class="flex items-center">
          <div class="p-3 bg-white bg-opacity-20 rounded-full">
            <i class="bi bi-calendar-check-fill text-white text-xl"></i>
          </div>
          <div class="ml-4">
            <p class="text-3xl font-bold">24</p>
            <p class="text-indigo-100">Appointments Today</p>
          </div>
        </div>
      </div>

      <!-- Clients -->
      <div class="bg-gradient-to-r from-green-400 to-green-500 text-white p-6 rounded-lg shadow-lg transform hover:scale-105 transition">
        <div class="flex items-center">
          <div class="p-3 bg-white bg-opacity-20 rounded-full">
            <i class="bi bi-people-fill text-white text-xl"></i>
          </div>
          <div class="ml-4">
            <p class="text-3xl font-bold">58</p>
            <p class="text-green-100">Registered Clients</p>
          </div>
        </div>
      </div>

      <!-- Revenue -->
      <div class="bg-gradient-to-r from-yellow-400 to-yellow-500 text-white p-6 rounded-lg shadow-lg transform hover:scale-105 transition">
        <div class="flex items-center">
          <div class="p-3 bg-white bg-opacity-20 rounded-full">
            <i class="bi bi-currency-rupee text-white text-xl"></i>
          </div>
          <div class="ml-4">
            <p class="text-3xl font-bold">₹12,300</p>
            <p class="text-yellow-100">Revenue Today</p>
          </div>
        </div>
      </div>

      <!-- New Feedback -->
      <div class="bg-gradient-to-r from-red-400 to-red-600 text-white p-6 rounded-lg shadow-lg transform hover:scale-105 transition">
        <div class="flex items-center">
          <div class="p-3 bg-white bg-opacity-20 rounded-full">
            <i class="bi bi-chat-left-text-fill text-white text-xl"></i>
          </div>
          <div class="ml-4">
            <p class="text-3xl font-bold">5</p>
            <p class="text-red-100">New Feedback</p>
          </div>
        </div>
      </div>
    </div>

    <!-- CHART + SNAPSHOTS -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10">
      <!-- Appointments Chart -->
      <div class="lg:col-span-2 bg-white rounded-lg shadow p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Weekly Appointments</h2>
        <canvas id="appointmentsChart" height="140"></canvas>
      </div>

      <!-- Mini Widgets -->
      <div class="space-y-6">
        <!-- Pending Leaves -->
        <div class="bg-white rounded-lg shadow p-6 flex items-center">
          <i class="bi bi-envelope-open-fill text-3xl text-purple-600"></i>
          <div class="ml-4">
            <p class="text-2xl font-bold">4</p>
            <p class="text-gray-600">Pending Leave Requests</p>
          </div>
        </div>

        <!-- Low Stock Alerts -->
        <div class="bg-white rounded-lg shadow p-6 flex items-center">
          <i class="bi bi-exclamation-circle-fill text-3xl text-yellow-500"></i>
          <div class="ml-4">
            <p class="text-2xl font-bold">3</p>
            <p class="text-gray-600">Low Stock Products</p>
          </div>
        </div>

        <!-- Upcoming Shifts -->
        <div class="bg-white rounded-lg shadow p-6 flex items-center">
          <i class="bi bi-clock-history text-3xl text-green-500"></i>
          <div class="ml-4">
            <p class="text-2xl font-bold">2</p>
            <p class="text-gray-600">Shifts Today</p>
          </div>
        </div>
      </div>
    </div>

    <!-- RECENT APPOINTMENTS TABLE -->
    <section class="mb-10">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Recent Appointments</h2>
      <div class="bg-white shadow rounded-lg overflow-x-auto">
        <table class="min-w-full text-sm text-gray-700">
          <thead class="bg-gray-50 font-semibold">
            <tr>
              <th class="px-4 py-2 text-left">Client</th>
              <th class="px-4 py-2 text-left">Service</th>
              <th class="px-4 py-2 text-left">Staff</th>
              <th class="px-4 py-2 text-left">Date</th>
              <th class="px-4 py-2 text-left">Time</th>
              <th class="px-4 py-2 text-left">Status</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-100">
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-2">Ayesha Khan</td>
              <td class="px-4 py-2">Haircut</td>
              <td class="px-4 py-2">Priya Sharma</td>
              <td class="px-4 py-2">2025-08-01</td>
              <td class="px-4 py-2">11:00 AM</td>
              <td class="px-4 py-2">
                <span class="text-green-600 bg-green-100 px-2 py-1 rounded-full text-xs">Completed</span>
              </td>
            </tr>
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-2">Ravi Patel</td>
              <td class="px-4 py-2">Facial</td>
              <td class="px-4 py-2">Anjali Mehta</td>
              <td class="px-4 py-2">2025-08-01</td>
              <td class="px-4 py-2">01:00 PM</td>
              <td class="px-4 py-2">
                <span class="text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full text-xs">Pending</span>
              </td>
            </tr>
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-2">Sonal Joshi</td>
              <td class="px-4 py-2">Pedicure</td>
              <td class="px-4 py-2">Neha Verma</td>
              <td class="px-4 py-2">2025-08-01</td>
              <td class="px-4 py-2">02:30 PM</td>
              <td class="px-4 py-2">
                <span class="text-blue-700 bg-blue-100 px-2 py-1 rounded-full text-xs">Scheduled</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </main>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('appointmentsChart').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
      datasets: [{
        label: 'Appointments',
        data: [12, 19, 15, 22, 18, 10, 5],
        borderColor: '#6366f1',
        backgroundColor: 'rgba(99,102,241,0.2)',
        tension: 0.4,
        fill: true
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { display: false }
      },
      scales: {
        y: { beginAtZero: true }
      }
    }
  });
</script>
